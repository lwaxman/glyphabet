function setup(){textFillColour=color(25,212,255,150);for(var e=0;4>e;e++)layers[e]=new Layer;layerTemp=layers[1],createCanvas(canvasWidth,canvasHeight),pg=createGraphics(canvasWidth,800),pg.background(255),pg.noStroke(),pg.fill(0),pg.textSize(getTextSize()),pg.textAlign(CENTER),pg.text(myType,canvasWidth/2,500)}function draw(){background(255),noLoop(),layers[1].styleMode="normal",layers[1].colour=color(0,100,255,150),layers[1].xOffset=20,layers[1].yOffset=20,layers[2].styleMode="gridCircles",layers[2].xOffset=10,layers[2].yOffset=30,layers[2].colour=color(0,200,255,150),layers[2].display(),layerTemp.styleMode=style,layerTemp.colour=textFillColour,layerTemp.grid=gridSize,layerTemp.minShapeSize=minSize,layerTemp.maxShapeSize=maxSize,layerTemp.stroke=!1,layerTemp.xOffset=xOffset,layerTemp.yOffset=yOffset,layerTemp.display();for(var e=1;4>e;e++)layers[e].display()}function addNewLayer(e){layerCount++}function switchLayers(e){console.log("this layer number = "+e),layers[e].styleMode=layerTemp.styleMode,layers[e].xOffset=layerTemp.xOffset,layers[e].yOffset=layerTemp.yOffset,layers[e].font=layerTemp.font,layers[e].colour=layerTemp.colour,layers[e].grid=layerTemp.grid,layers[e].stroke=layerTemp.stroke,layers[e].minShapeSize=layerTemp.minShapeSize,layers[e].maxShapeSize=layerTemp.maxShapeSize,console.log("layerNumber: "+layers[e].styleMode),layers[0].styleMode=layers[e].styleMode,layers[0].xOffset=layers[e].xOffset,layers[0].yOffset=layers[e].yOffset,layers[0].font=layers[e].font,layers[0].colour=layers[e].colour,layers[0].grid=layers[e].grid,layers[0].stroke=layers[e].stroke,layers[0].minShapeSize=layers[e].minShapeSize,layers[0].maxShapeSize=layers[e].maxShapeSize,console.log("0: "+layers[0].styleMode),layerTemp.styleMode=layers[0].styleMode,layerTemp.xOffset=layers[0].xOffset,layerTemp.yOffset=layers[0].yOffset,layerTemp.font=layers[0].font,layerTemp.colour=layers[0].colour,layerTemp.grid=layers[0].grid,layerTemp.stroke=layers[0].stroke,layerTemp.minShapeSize=layers[0].minShapeSize,layerTemp.maxShapeSize=layers[0].maxShapeSize,console.log("temp: "+layerTemp.styleMode),draw()}function getTextSize(){var e=myType.split(""),r=e.length;return thisTextSize=canvasWidth/r*1.2}function drawNormal(e,r){textSize(getTextSize()),textAlign(CENTER),text(myType,canvasWidth/2+e,500+r)}function drawRandoCircles(e,r){for(var a=0;3e3>a;a++){var s=random(canvasWidth),i=random(100,600),l=pg.get(s,i),t=random(minSize,maxSize);0==l[0]&&ellipse(s+e,i+r,t,t)}}function drawWeirdoCircles(e,r){for(var a=0;3e3>a;a++){var s=random(canvasWidth),i=random(200,600),l=pg.get(s,i),t=random(minSize,maxSize);if(0==l[0]){for(var o=textFillColour,n=20;n>0;n--)o+=10,stroke(o),ellipse(s-n,i-n,t,t);stroke(0),ellipse(s+e,i+r,t,t)}}}function drawGridSquares(e,r,a,s,i){for(var l=0;e>l;l++)for(var t=0;e>t;t++){var o=l*(width/e),n=t*(width/e),y=pg.get(o,n),f=random(r,a);0==y[0]&&rect(o+s,n+i,f,f)}}function drawRandoSquares(e,r){for(var a=0;3e3>a;a++){var s=random(canvasWidth),i=random(100,600),l=pg.get(s,i),t=random(minSize,maxSize);0==l[0]&&rect(s+e,i+r,t,t)}}function drawGridCircles(e,r,a,s,i){for(var l=0;e>l;l++)for(var t=0;e>t;t++){var o=l*(width/e),n=t*(width/e),y=pg.get(o,n),f=random(r,a);0==y[0]&&ellipse(o+s,n+i,f,f)}}function Layer(){this.xOffset=0,this.yOffset=0,this.styleMode="normal",this.font="helvetica",this.colour,this.grid=80,this.stroke,this.opacity=!1,this.minShapeSize=5,this.maxShapeSize=10,this.display=function(){this.stroke?stroke(100):noStroke(),this.opacity?fill(this.colour):noFill(),fill(this.colour),"gridCircles"==this.styleMode?drawGridCircles(this.grid,this.minShapeSize,this.maxShapeSize,this.xOffset,this.yOffset):"randoCircles"==this.styleMode?drawRandoCircles(this.xOffset,this.yOffset):"weirdoCircles"==this.styleMode?drawWeirdoCircles(this.xOffset,this.yOffset):"gridSquares"==this.styleMode?drawGridSquares(this.grid,this.minShapeSize,this.maxShapeSize,this.xOffset,this.yOffset):"randoSquares"==this.styleMode?drawRandoSquares(this.xOffset,this.yOffset):"normal"==this.styleMode?drawNormal(this.xOffset,this.yOffset):drawNormal(this.xOffset,this.yOffset)}}function hexToRgb(e){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null}function getColour(){var e=$("#colourTextBox").val(),r=color(hexToRgb(e).r,hexToRgb(e).g,hexToRgb(e).b,150);return textFillColour=r,draw(),textFillColour}function getText(){var e=$("#textBox").val();console.log(e),myType=e,pg.background(255),pg.noStroke(),pg.fill(0),pg.textSize(getTextSize()),pg.textAlign(CENTER),pg.text(myType,canvasWidth/2,500),draw()}var canvasWidth=$(window).width()-310,canvasHeight=$(window).height()-10,pg,myType="TEST",insideText=!1,style="normal",minSize=10,maxSize=20,thisTextSize=100,gridSize=50,textFillColour,xOffset=0,yOffset=0,layerTemp=new Layer,layers=[];$("#gridCircles").on("click",function(){style="gridCircles",draw()}),$("#randoCircles").on("click",function(){style="randoCircles",draw()}),$("#weirdoCircles").on("click",function(){style="weirdoCircles",draw()}),$("#randoSquares").on("click",function(){style="randoSquares",draw()}),$("#gridSquares").on("click",function(){style="gridSquares",draw()}),$("#normal").on("click",function(){style="normal",draw()}),$("#shapeSize-range").slider({range:!0,min:1,max:40,values:[10,20],slide:function(e,r){$("#shapeSize").val(r.values[0]+" - "+r.values[1]),minSize=r.values[0],maxSize=r.values[1],draw()}}),$("#shapeSize").val($("#shapeSize-range").slider("values",0)+" - "+$("#shapeSize-range").slider("values",1)),$("#gridSize-range").slider({value:50,min:30,max:250,range:"min",slide:function(e,r){$("#gridSize").val(r.value),gridSize=r.value,draw()}}),$("#gridSize").val($("#gridSize-range").slider("values",0)+" - "+$("#gridSize-range").slider("values",1)),$("#xOffset-range").slider({value:0,min:-50,max:50,range:"min",slide:function(e,r){$("#xOffset").val(r.value),xOffset=r.value,draw()}}),$("#xOffset").val($("#xOffset-range").slider("values",0)+" - "+$("#xOffset-range").slider("values",1)),$("#yOffset-range").slider({value:0,min:-50,max:50,range:"min",slide:function(e,r){$("#yOffset").val(r.value),yOffset=r.value,draw()}}),$("#yOffset").val($("#yOffset-range").slider("values",0)+" - "+$("#yOffset-range").slider("values",1));var layerCount=1;$("#newLayer").on("click",addNewLayer(layers[layerCount+1])),$(".layer").on("click",function(){console.log("clicky "+this.id);var e=this.id,r=e.split("r");switchLayers(r[1])}),$("#colourTextBox").on("change",getColour),$("#textBox").keyup(getText);